## 데이터베이스

데이터베이스(DB)는 일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음

데이터를 제어, 관리하는 통합 시스템을 DBMS(DataBase Management System)라고 한다

데이터베이스 안에 있는 데이터들은 특정 DBMS마다 정의된 쿼리 언어를 통해 삽입, 삭제, 수정, 조회 등을 수행할 수 있다.

- 엔터티(Entity)

  사람, 장소, 물건, 사건, 개념 등 여러 개의 속성을 지닌 명사. 예를 들어 회원이라는 엔터티의 경우 회원은 이름, 아이디, 주소, 전화번호의 속성을 가질 수 있다

  - 강한 엔터티, 약한 엔터티 : A가 혼자서는 존재하지 못하고 B의 존재여부에 따라 종속적이라면 A는 약한 엔텉, B는 강한 엔터티가 된다. 예를 들어 방은 건물 안에만 존재하기 때문에 방은 약한 엔터티라고 할 수 있고, 건물은 강한 엔터티라고 할 수 있다

- 릴레이션(Relation)

  데이터베이스에서 정보를 구분하여 저장하는 기본 단위. 엔터티에 관한 데이터를 데이터베이스는 릴레이션 하나에 담아서 관리한다.

  릴레이션은 관계형 데이터베이스에서는 '테이블'이라고 하며, NoSQL 데이터베이스에서는 '컬렉션' 이라고 한다.

- 속성(attribute)

  속성은 릴레이션에서 관리하는 구체적이며 고유한 이름을 갖는 정보. 차라는 엔터티를 예시로 들었을 때 차 넘버, 바퀴 수, 차 색깔, 차종 등이 속성이고 이는 엔티티의 속성이 될 수 있다

- 도메인(domain)

  릴레이션에 포함된 각각의 속성들이 가질 수 있는 값의 집합. 예를 들어 성별이라는 속성이 있다면 이 속성이 가질 수 있는 값은 {남, 여} 라는 집합이다

- 필드와 레코드(field / record or tuple)

  엔터티는 속성인 여러 개의 필드를 가진다. 그리고 이 테이브렝 쌓이는 행 단위의 데이터를 레코드 또는 튜플이라고 한다.

### 키(Key)

데이터베이스에서 검색, 정렬 시 다른 튜플들과 구별할 수 있는 기준이 되는 Attribute(속성)

테이블 간의 관계를 조금 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치

- 후보키 (Candidate Key): tuple을 유일하게 식별하기 위해 사용되는 속성들(기본키로 사용될 수 있는 속성들)의 부분집합

  - 모든 릴레이션은 반드시 하나 이상의 후보키를 가져야 한다
  - 유일성과 최소성 만족
    - 유일성 : Key로 하나의 tuple을 유일하게 식별할 수 있음
    - 최소성 : 꼭 필요한 속성으로만 구성
  - ex) 학번이나 주민번호

- 기본키 (Primary Key) : 후보키 중에서 선택한 주 키(Main Key)

  - Null값을 가질 수 없음 (개체 무결성 첫 번째 조건)
  - 동일한 값이 중복될 수 없음 (개체 무결성 두 번째 조건)
  - ex) 학번, 주민번호

- 대체키 (Alternate Key, 보조키) : 후보키 중 기본키를 제외한 나머지 키

  - ex) 학번을 기본키로 정의하면 주민번호는 대체키가 된다

- 슈퍼키 (Super Key) : 유일성은 만족하지만 최소성은 만족하지 못하는 키 -> 뭉쳤을 경우 유일성이 생기고, 흩어지면 몇몇 속성들은 독단적으로 유일성 있는 키로 사용할 수 없음

  - ex) 학번, 주민번호, 성명으로 슈퍼키 구성, 성명은 단독적으로 유일성 있는 키는 만족하지 못함

- 외래키 (Foreign Key) : 참조되는 릴레이션의 기본 키와 대응되어 릴레이션 간에 참조 관계를 표현하는 도구
  - 외래키로 지정시 참조 테이블의 기본 키에 없는 값은 입력할 수 없다(참조 무결성 조건)

### SQL - JOIN

RDBMS는 데이터 중복을 피하기 위해 테이블을 쪼개 나눠서 저장한다. 이렇게 분리되어 있는 데이터에서 원하는 결과를 조합해서 가져오기 위해서 테이블을 조합할 필요가 있고, 이를 join연산자를 통해 수행할 수 있다.

- Inner Join : 2개 이상의 테이블에서 교집합만 추출
- Outer Join : 한쪽에는 데이터가 있고 한쪽에는 데이터가 없는 경우, 데이터가 있는 쪽의 내용을 모두 출력하는 방법

  - Left Outer Join : 2개 이상의 테이블에서 from에 해당하는 부분을 추출
  - Right OuterJoin : 2개 이상의 테이블에서 from과 join하는 테이블에 해당하는 부분을 추출
  - Full Outer Join : 2개 이상의 테이블에서 모든 테이블에 해당하는 부분을 추출

- Cross Join : 두 테이블의 모든 행을 서로 조인한다. 결과값은 A 레코드 수 \* B 레코드 수

- Self Join : 자기 자신과 자기 자신을 조인
